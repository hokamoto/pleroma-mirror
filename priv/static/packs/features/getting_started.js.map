{"version":3,"sources":["webpack:///app/javascript/seagate/sources/git/hacktivis.me/git/mastofe/app/javascript/mastodon/features/getting_started/index.js"],"names":["messages","defineMessages","home_timeline","id","defaultMessage","notifications","public_timeline","settings_subheading","community_timeline","direct","preferences","follow_requests","favourites","blocks","domain_blocks","mutes","pins","lists","discover","personal","security","menu","profile_directory","GettingStarted","connect","state","myAccount","getIn","me","unreadFollowRequests","ImmutableList","size","customPanelEnabled","customPanel","dispatch","fetchFollowRequests","fetchPanel","fetchPleromaConfig","injectIntl","componentDidMount","_this$props","this","props","get","render","number","limit","_this$props2","intl","multiColumn","navItems","i","height","push","Object","_babel_runtime_helpers_esm_jsx__WEBPACK_IMPORTED_MODULE_0__","_ui_components_column_subheading__WEBPACK_IMPORTED_MODULE_6__","text","formatMessage","_ui_components_column_link__WEBPACK_IMPORTED_MODULE_5__","icon","to","href","badge","staticContent","dangerouslySetInnerHTML","__html","style","marginLeft","marginRight","rel","target","react_intl__WEBPACK_IMPORTED_MODULE_7__","_ui_components_column__WEBPACK_IMPORTED_MODULE_4__","label","className","_compose_components_navigation_bar__WEBPACK_IMPORTED_MODULE_17__","account","invitesEnabled","react_router_dom__WEBPACK_IMPORTED_MODULE_16__","data-method","values","mastofe","mastodon","pleroma","ImmutablePureComponent","PropTypes","object","isRequired","ImmutablePropTypes","map","columns","list","bool","func","unreadNotifications","string"],"mappings":"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","file":"features/getting_started.js","sourcesContent":["import React from 'react';\nimport Column from '../ui/components/column';\nimport ColumnLink from '../ui/components/column_link';\nimport ColumnSubheading from '../ui/components/column_subheading';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { me, invitesEnabled, version, profile_directory } from '../../initial_state';\nimport { fetchFollowRequests } from '../../actions/accounts';\nimport { fetchPanel, fetchPleromaConfig } from '../../actions/pleroma';\nimport { List as ImmutableList } from 'immutable';\nimport { Link } from 'react-router-dom';\nimport NavigationBar from '../compose/components/navigation_bar';\n\nconst messages = defineMessages({\n  home_timeline: { id: 'tabs_bar.home', defaultMessage: 'Home' },\n  notifications: { id: 'tabs_bar.notifications', defaultMessage: 'Notifications' },\n  public_timeline: { id: 'navigation_bar.public_timeline', defaultMessage: 'Federated timeline' },\n  settings_subheading: { id: 'column_subheading.settings', defaultMessage: 'Settings' },\n  community_timeline: { id: 'navigation_bar.community_timeline', defaultMessage: 'Local timeline' },\n  direct: { id: 'navigation_bar.direct', defaultMessage: 'Direct messages' },\n  preferences: { id: 'navigation_bar.preferences', defaultMessage: 'Preferences' },\n  follow_requests: { id: 'navigation_bar.follow_requests', defaultMessage: 'Follow requests' },\n  favourites: { id: 'navigation_bar.favourites', defaultMessage: 'Favourites' },\n  blocks: { id: 'navigation_bar.blocks', defaultMessage: 'Blocked users' },\n  domain_blocks: { id: 'navigation_bar.domain_blocks', defaultMessage: 'Hidden domains' },\n  mutes: { id: 'navigation_bar.mutes', defaultMessage: 'Muted users' },\n  pins: { id: 'navigation_bar.pins', defaultMessage: 'Pinned toots' },\n  lists: { id: 'navigation_bar.lists', defaultMessage: 'Lists' },\n  discover: { id: 'navigation_bar.discover', defaultMessage: 'Discover' },\n  personal: { id: 'navigation_bar.personal', defaultMessage: 'Personal' },\n  security: { id: 'navigation_bar.security', defaultMessage: 'Security' },\n  menu: { id: 'getting_started.heading', defaultMessage: 'Getting started' },\n  profile_directory: { id: 'getting_started.directory', defaultMessage: 'Profile directory' },\n});\n\nconst mapStateToProps = state => ({\n  myAccount: state.getIn(['accounts', me]),\n  unreadFollowRequests: state.getIn(['user_lists', 'follow_requests', 'items'], ImmutableList()).size,\n  customPanelEnabled: state.getIn(['custom_panel', 'enabled']),\n  customPanel: state.getIn(['custom_panel', 'panel']),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchFollowRequests: () => dispatch(fetchFollowRequests()),\n  fetchPanel: () => dispatch(fetchPanel()),\n  fetchPleromaConfig: () => dispatch(fetchPleromaConfig()),\n});\n\nconst badgeDisplay = (number, limit) => {\n  if (number === 0) {\n    return undefined;\n  } else if (limit && number >= limit) {\n    return `${limit}+`;\n  } else {\n    return number;\n  }\n};\n\nexport default @connect(mapStateToProps, mapDispatchToProps)\n@injectIntl\nclass GettingStarted extends ImmutablePureComponent {\n\n  static propTypes = {\n    intl: PropTypes.object.isRequired,\n    myAccount: ImmutablePropTypes.map.isRequired,\n    columns: ImmutablePropTypes.list,\n    multiColumn: PropTypes.bool,\n    fetchFollowRequests: PropTypes.func.isRequired,\n    fetchPanel: PropTypes.func.isRequired,\n    fetchPleromaConfig: PropTypes.func.isRequired,\n    unreadFollowRequests: PropTypes.number,\n    unreadNotifications: PropTypes.number,\n    customPanelEnabled: PropTypes.bool,\n    customPanel: PropTypes.string.isRequired,\n  };\n\n  componentDidMount () {\n    const { myAccount, fetchFollowRequests, fetchPleromaConfig, fetchPanel } = this.props;\n\n    if (myAccount.get('locked')) {\n      fetchFollowRequests();\n    }\n\n    fetchPleromaConfig();\n    fetchPanel();\n  }\n\n  render () {\n    const { intl, myAccount, multiColumn, unreadFollowRequests, customPanelEnabled, customPanel } = this.props;\n\n    const navItems = [];\n    let i = 1;\n    let height = (multiColumn) ? 0 : 60;\n\n    if (multiColumn) {\n      navItems.push(\n        <ColumnSubheading key={i++} text={intl.formatMessage(messages.discover)} />,\n        <ColumnLink key={i++} icon='users' text={intl.formatMessage(messages.community_timeline)} to='/timelines/public/local' />,\n        <ColumnLink key={i++} icon='globe' text={intl.formatMessage(messages.public_timeline)} to='/timelines/public' />,\n      );\n\n      height += 34 + 48*2;\n\n      if (profile_directory) {\n        navItems.push(\n          <ColumnLink key={i++} icon='address-book' text={intl.formatMessage(messages.profile_directory)} href='/explore' />\n        );\n\n        height += 48;\n      }\n\n      navItems.push(\n        <ColumnSubheading key={i++} text={intl.formatMessage(messages.personal)} />\n      );\n\n      height += 34;\n    } else if (profile_directory) {\n      navItems.push(\n        <ColumnLink key={i++} icon='address-book' text={intl.formatMessage(messages.profile_directory)} href='/explore' />\n      );\n\n      height += 48;\n    }\n\n    navItems.push(\n      <ColumnLink key={i++} icon='envelope' text={intl.formatMessage(messages.direct)} to='/timelines/direct' />,\n      <ColumnLink key={i++} icon='star' text={intl.formatMessage(messages.favourites)} to='/favourites' />,\n      <ColumnLink key={i++} icon='list-ul' text={intl.formatMessage(messages.lists)} to='/lists' />\n    );\n\n    height += 48*3;\n\n    if (myAccount.get('locked')) {\n      navItems.push(<ColumnLink key={i++} icon='users' text={intl.formatMessage(messages.follow_requests)} badge={badgeDisplay(unreadFollowRequests, 40)} to='/follow_requests' />);\n      height += 48;\n    }\n\n    if (!multiColumn) {\n      navItems.push(\n        <ColumnSubheading key={i++} text={intl.formatMessage(messages.settings_subheading)} />,\n        <ColumnLink key={i++} icon='gears' text={intl.formatMessage(messages.preferences)} href='/user-settings' />,\n      );\n\n      height += 34 + 48;\n    }\n\n    const dot = ' • ';\n    const staticContent = (customPanelEnabled ? <div dangerouslySetInnerHTML={{__html: customPanel}} style={{marginLeft: -12, marginRight: -12}} /> :\n      <p>\n        <a href='https://github.com/tootsuite/documentation/blob/master/Using-Mastodon/FAQ.md' rel='noopener' target='_blank'><FormattedMessage id='getting_started.faq' defaultMessage='FAQ' /></a>\n        {dot}\n        <a href='https://github.com/tootsuite/documentation/blob/master/Using-Mastodon/User-guide.md' rel='noopener' target='_blank'><FormattedMessage id='getting_started.userguide' defaultMessage='User Guide' /></a>\n        {dot}\n        <a href='https://github.com/tootsuite/documentation/blob/master/Using-Mastodon/Apps.md' rel='noopener' target='_blank'><FormattedMessage id='getting_started.appsshort' defaultMessage='Apps' /></a>\n        {dot}\n        <a href='https://pleroma.social'><FormattedMessage id='getting_started.pleroma' defaultMessage='Pleroma' /></a>\n      </p>\n    );\n\n    return (\n      <Column label={intl.formatMessage(messages.menu)}>\n        {multiColumn && <div className='column-header__wrapper'>\n          <h1 className='column-header'>\n            <button>\n              <i className='fa fa-bars fa-fw column-header__icon' />\n              <FormattedMessage id='getting_started.heading' defaultMessage='Getting started' />\n            </button>\n          </h1>\n        </div>}\n\n        <div className='getting-started'>\n          <div className='getting-started__wrapper scrollable' style={{ height }}>\n            {!multiColumn && <NavigationBar account={myAccount} />}\n            {navItems}\n          </div>\n\n          {!multiColumn && <div className='flex-spacer' />}\n\n          <div className='getting-started getting-started__panel scrollable'>\n            {staticContent}\n          </div>\n\n          {!multiColumn && <div className='flex-spacer' />}\n\n          <div className='getting-started__footer scrollable'>\n            <ul>\n              {invitesEnabled && <li><a href='/invites' target='_blank'><FormattedMessage id='getting_started.invite' defaultMessage='Invite people' /></a> · </li>}\n              {multiColumn && <li><Link to='/keyboard-shortcuts'><FormattedMessage id='navigation_bar.keyboard_shortcuts' defaultMessage='Hotkeys' /></Link> · </li>}\n              <li><a href='/auth/sign_out' data-method='delete'><FormattedMessage id='navigation_bar.logout' defaultMessage='Logout' /></a></li>\n            </ul>\n\n            <p>\n              <FormattedMessage\n                id='getting_started.mastofe_notice'\n                defaultMessage='{mastofe} is libre software based on {mastodon} frontend adapted for {pleroma}.'\n                values={{\n                  mastofe: <a href='https://git.pleroma.social/pleroma/mastofe' rel='noopener' target='_blank'>Mastofe</a>,\n                  mastodon: <a href='https://github.com/tootsuite/mastodon' rel='noopener' target='_blank'>Mastodon</a>,\n                  pleroma: <a href='https://pleroma.social' rel='noopener' target='_blank'>Pleroma</a>\n                }}\n              />\n            </p>\n          </div>\n        </div>\n      </Column>\n    );\n  }\n\n}\n"],"sourceRoot":""}